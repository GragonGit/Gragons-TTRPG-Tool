"use strict";(self.webpackChunkttrpg=self.webpackChunkttrpg||[]).push([[412],{9412:(A,h,c)=>{c.r(h),c.d(h,{HomeComponent:()=>E});var s=c(6814),i=c(7927),t=c(6146),l=c(9111);function m(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.handleDeleteButton())}),t._UZ(1,"app-icon",2),t.qZA()}}function u(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div")(1,"button",1),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.confirmDeletion())}),t._UZ(2,"app-icon",3),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.declineDeletion())}),t._UZ(4,"app-icon",4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"translate"),t.qZA()()}2&e&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"HOME.UI.deletionConfirmation")))}let C=(()=>{class e{constructor(){this.deleteCharacterEvent=new t.vpe,this.isPressed=!1}handleDeleteButton(){this.isPressed=!0}confirmDeletion(){this.deleteCharacterEvent.emit()}declineDeletion(){this.isPressed=!1}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-delete-button"]],outputs:{deleteCharacterEvent:"deleteCharacterEvent"},standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[["type","button"],["type","button",3,"click"],["iconName","Delete"],["iconName","CheckMark"],["iconName","Cross"]],template:function(a,r){1&a&&t.YNc(0,m,2,0,"button",0)(1,u,8,3),2&a&&t.um2(0,r.isPressed?1:0)},dependencies:[l.o,i.aw,i.X$],styles:["button[_ngcontent-%COMP%]{align-items:center;background:none;border:none;display:flex;justify-content:center;width:2.5rem}div[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media (max-width: 320px){div[_ngcontent-%COMP%]{justify-content:center}}p[_ngcontent-%COMP%]{margin:0}"]})}return e})();function _(e,o){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA(),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.ALo(6,"date"),t.qZA()),2&e){const n=t.oxw();let a;t.xp6(1),t.Oqu(n.character.fileName),t.xp6(2),t.AsE(" ",t.lcZ(4,3,"HOME.UI.lastOpened"),": ",t.lcZ(5,5,null!==(a=t.lcZ(6,7,n.character.lastOpened))&&void 0!==a?a:"HOME.UI.neverOpened")," ")}}function f(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",5)(1,"input",6,7),t.NdJ("keyup",function(){t.CHM(n);const r=t.MAs(2),d=t.oxw();return t.KtG(d.handleFileNameChange(r.value))}),t.qZA(),t.TgZ(3,"app-delete-button",8),t.NdJ("deleteCharacterEvent",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.handleDeleteButton())}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("placeholder",n.character.fileName)("value",n.character.fileName)}}const g=e=>({pointerEffects:e});let x=(()=>{class e{constructor(){this.fileNameChangeEvent=new t.vpe,this.deleteCharacterEvent=new t.vpe,this.inSettings=!1}handleDeleteButton(){this.deleteCharacterEvent.emit()}handleFileNameChange(n){this.fileNameChangeEvent.emit(n)}handleSettingsButton(){this.inSettings=!this.inSettings}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-character-card"]],inputs:{character:"character"},outputs:{fileNameChangeEvent:"fileNameChangeEvent",deleteCharacterEvent:"deleteCharacterEvent"},standalone:!0,features:[t.jDz],decls:7,vars:4,consts:[[1,"character-card"],[1,"character-data-button-wrapper"],[1,"character-data-wrapper",3,"ngClass"],["type","button",1,"settingsButton",3,"click"],["iconName","Settings"],[1,"settingsWrapper"],["type","text",3,"placeholder","value","keyup"],["fileNameInput",""],[3,"deleteCharacterEvent"]],template:function(a,r){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,_,7,9)(4,f,4,2),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return r.handleSettingsButton()}),t._UZ(6,"app-icon",4),t.qZA()()()),2&a&&(t.xp6(2),t.Q6J("ngClass",t.VKq(2,g,!r.inSettings)),t.xp6(1),t.um2(3,r.inSettings?4:3))},dependencies:[C,l.o,s.ez,s.mk,s.uU,i.aw,i.X$],styles:["input[_ngcontent-%COMP%]{border:1px solid #dfdfdf;border-radius:.3rem;font-size:small;margin:.5rem 0;outline:none}@media (max-width: 320px){input[_ngcontent-%COMP%]{width:100%}}p[_ngcontent-%COMP%]{margin:.5rem 0}app-icon[_ngcontent-%COMP%]{width:2rem}@media (max-width: 320px){app-icon[_ngcontent-%COMP%]{width:1.5rem}}.character-card[_ngcontent-%COMP%]{background-color:#f3f3f3;border:1px solid #dfdfdf;border-radius:1rem;max-width:23rem;min-height:6.2rem;min-width:15rem;overflow:hidden;width:100%}@media (max-width: 320px){.character-card[_ngcontent-%COMP%]{margin:.25rem;min-height:none;min-width:2rem}}.character-data-button-wrapper[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:space-between}@media (max-width: 320px){.character-data-button-wrapper[_ngcontent-%COMP%]{flex-direction:column}}.character-data-wrapper[_ngcontent-%COMP%]{padding:1rem;width:100%}@media (max-width: 320px){.character-data-wrapper[_ngcontent-%COMP%]{padding:.5rem;width:auto}}.pointerEffects[_ngcontent-%COMP%]:hover{background-color:#eee}.pointerEffects[_ngcontent-%COMP%]:active{background-color:#e6e6e6}.settingsButton[_ngcontent-%COMP%]{align-items:center;background-color:#dfdfdf;border:none;display:flex;justify-content:center;width:2.5rem}.settingsButton[_ngcontent-%COMP%]:hover{background-color:#dadada}.settingsButton[_ngcontent-%COMP%]:active{background-color:#d2d2d2}@media (max-width: 320px){.settingsButton[_ngcontent-%COMP%]{width:100%}}.settingsWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (max-width: 320px){.settingsWrapper[_ngcontent-%COMP%]{align-items:center}}"]})}return e})(),w=(()=>{class e{constructor(){this.newCharacterEvent=new t.vpe}addNewCharacter(){this.newCharacterEvent.emit()}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-new-character-card"]],outputs:{newCharacterEvent:"newCharacterEvent"},standalone:!0,features:[t.jDz],decls:2,vars:0,consts:[["type","button",3,"click"],["iconName","Add"]],template:function(a,r){1&a&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return r.addNewCharacter()}),t._UZ(1,"app-icon",1),t.qZA())},dependencies:[l.o],styles:["button[_ngcontent-%COMP%]{align-items:center;background-color:#dfdfdf;border:1px solid #dfdfdf;border-radius:1rem;display:flex;justify-content:center;max-width:23rem;min-width:15rem;overflow:hidden;width:100%}@media (max-width: 320px){button[_ngcontent-%COMP%]{margin:.25rem;min-width:2rem}}button[_ngcontent-%COMP%]:hover{background-color:#dadada}button[_ngcontent-%COMP%]:active{background-color:#d2d2d2}@media (max-width: 320px){button[_ngcontent-%COMP%]{width:100%}}app-icon[_ngcontent-%COMP%]{margin:.5rem;width:2rem}@media (max-width: 320px){app-icon[_ngcontent-%COMP%]{width:1.5rem}}"]})}return e})();var v=c(7946),O=c(9505),M=c(7715);let b=(()=>{class e{constructor(){this.charactersTable=v.db.characters,this.charactersObservable=(0,M.D)((0,O.Y1)(()=>this.charactersTable.toArray()))}addNewCharacter(){this.charactersTable.add({fileName:"New"})}deleteCharacter(n){n.id&&this.charactersTable.delete(n.id)}updateCharacter(n,a){this.charactersTable.update(n,a)}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Z=(e,o)=>o.id;function N(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"li")(1,"app-character-card",2),t.NdJ("fileNameChangeEvent",function(r){const p=t.CHM(n).$implicit,P=t.oxw();return t.KtG(P.handleFileNameChange(p,r))})("deleteCharacterEvent",function(){const d=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.handleDeleteCharacter(d))}),t.qZA()()}if(2&e){const n=o.$implicit;t.xp6(1),t.Q6J("character",n)}}function T(e,o){1&e&&(t.TgZ(0,"h1",3),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"HOME.noCharacterFound")))}function y(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"li")(1,"app-new-character-card",4),t.NdJ("newCharacterEvent",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.addNewCharacter())}),t.qZA()()}}let E=(()=>{class e{addNewCharacter(){this.characterService.addNewCharacter()}handleDeleteCharacter(n){this.characterService.deleteCharacter(n)}handleFileNameChange(n,a){this.characterService.updateCharacter(n,{fileName:a})}constructor(n){this.characterService=n,this.characters=this.characterService.charactersObservable}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(b))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:13,vars:11,consts:[[1,"character-list"],["class","mt-5"],[1,"character-card",3,"character","fileNameChangeEvent","deleteCharacterEvent"],[1,"mt-5"],[1,"character-card",3,"newCharacterEvent"]],template:function(a,r){1&a&&(t.TgZ(0,"h1"),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"h2"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"ul",0),t.SjG(7,N,2,1,"li",null,Z),t.ALo(9,"async"),t.YNc(10,T,3,3,"h1",1),t.ALo(11,"async"),t.YNc(12,y,2,0),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,3,"HOME.welcome")),t.xp6(3),t.Oqu(t.lcZ(5,5,"HOME.chooseCharacter")),t.xp6(3),t.wJu(t.lcZ(9,7,r.characters)),t.xp6(3),t.um2(10,t.lcZ(11,9,r.characters)?12:10))},dependencies:[x,w,s.ez,s.Ov,i.aw,i.X$],styles:["@media (max-width: 320px){h1[_ngcontent-%COMP%]{font-size:x-large}h2[_ngcontent-%COMP%]{font-size:large}}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{overflow-wrap:break-word;text-align:center}li[_ngcontent-%COMP%]{width:100%}.character-card[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:center}.character-list[_ngcontent-%COMP%]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(17rem,1fr));justify-content:center;justify-items:center;list-style:none;margin:1rem;padding-left:0}@media (max-width: 320px){.character-list[_ngcontent-%COMP%]{grid-template-columns:1fr;justify-items:stretch}}.mt-5[_ngcontent-%COMP%]{margin-top:5rem}"]})}return e})()}}]);